
name: build gif

on:
  workflow_dispatch:
    inputs:
      gif_text:
        description: 'Gif to build'
        required: true
        default: '抗韓榮譽總指揮 KK：「紅磡千杯不醉」「浪1234舵主」「農會123盟主」「紫禁之巔總幹事」「三色豆口臭主治醫師」「金龍樓基佬疊羅漢最底層」「同芯、武德榮譽董事」「愛魚愛貓協會理事長」「愛你的天敵甲級傳教士」「有事找我大佬防守顧問」「黑生熊幕後最高總指揮」「黃澤銘眼科醫生折扣持有者」「一家團聚爆地師」「焚城季季休息留力話術指導師」「NVE正反手戰略教學導師」「星月腿法教練」「九霄協調訓練家」「黃埔點心酒家部長」「龍虎冠軍指揮!!!!!」「單季雙殺串燒紀錄保持者」「金龍人」「新浪總」「3色豆超級管理員」「忍刀7人眾副隊長」「俠盟忠實會員」「腳踢老金群」「最佳破風手」「皇家馬德里87年球迷」「左踢狂风右踹夜鬼神」「五指呼吸法第26代接班人」「三色豆國語補習天王」'
      gif_frame:
        description: 'Gif frame'
        required: true
        default: '2'
      gif_delay:
        description: 'Gif delay'
        required: true
        default: '30'

jobs:
  build-gif:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v3
        with:
          python-version: '3.10'

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: Build gif
        run: |
          python src/app.py -t "${{ github.event.inputs.gif_text }}" -f ${{ github.event.inputs.gif_frame }} -d ${{ github.event.inputs.gif_delay }} -w 4

      - name: Upload gif
        uses: actions/upload-artifact@v4
        with:
          name: YOUR_GIF_IS_HERE
          path: output.gif
